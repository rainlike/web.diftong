{% set route = app.request.attributes.get('_route') %}
{% set route_params = app.request.attributes.get('_route_params') %}

<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
    <head>
        {% block meta %}
            <meta charset="UTF-8"/>
            <meta name="viewport" content="initial-scale=1"/>
        {% endblock %}
        {% block seo %}
            {# @TODO: SEO service #}
            <title>{% block title %}{{ 'title'|trans({}, 'seo') }}{% endblock %}</title>
            <meta name="description" content="{% block description %}{{ 'description'|trans({}, 'seo') }}{% endblock %}">
            <meta name="keywords" content="{% block keywords %}{{ 'keywords'|trans({}, 'seo') }}{% endblock %}">
        {% endblock %}
        {% block css %}{% endblock %}
        {% block links %}
            <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}"/>
            <link href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css" rel="stylesheet">
            <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        {% endblock %}
        {% block window %}
            <script>
                window.app_locale = "{{ app.request.locale }}";
            </script>
        {% endblock %}
    </head>

    <body class="{% block body_class %}{% endblock %}">
        {% block body %}
            {% block header %}
                {{ render(controller('App\\Controller\\CommonController::renderHeader', {
                    'route': route,
                    'routeParams': route_params,
                    'url': app.request.uri
                })) }}
            {% endblock %}

            {% block main %}{% endblock %}

            {% block footer %}
                {{ render(controller('App\\Controller\\CommonController::renderFooter', {
                    'route': route,
                    'routeParams': route_params,
                    'url': app.request.uri
                })) }}
            {% endblock %}
        {% endblock %}
        {% block js %}{% endblock %}
        {% block modal %}{% endblock %}
    </body>
</html>
